<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Candidate Details</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              "theme-primary": "#736b8e",
              "theme-dark": "#5f5778",
              "theme-light": "#e5e3e9",
              "gray-text": "#6B7280",
            },
          },
        },
      };
    </script>
    <style>
      .password-toggle-icon {
        -webkit-user-select: none; /* Safari */
        -moz-user-select: none; /* Firefox */
        -ms-user-select: none; /* IE10+/Edge */
        user-select: none; /* Standard */
      }
    </style>
  </head>
  <body
    class="bg-gray-50 flex items-center justify-center min-h-screen p-4 sm:p-6 lg:p-8"
  >
    <div class="bg-white shadow-lg rounded-lg p-6 sm:p-8 w-full max-w-md">
      <div class="text-center mb-6 sm:mb-8">
        <div class="mx-auto bg-theme-light rounded-full p-3 inline-block mb-4">
          <svg
            class="h-8 w-8 text-theme-primary"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
            />
          </svg>
        </div>
        <h2 class="text-2xl sm:text-3xl font-bold text-gray-800">
          Create Your Account
        </h2>
        <p class="text-gray-text mt-2 text-sm sm:text-base">
          Please fill in your details to register.
        </p>
      </div>

      <form method="post" class="space-y-6">
        {% csrf_token %}

        <div class="space-y-5">
          {% for field in user_form %}
          <div>
            <label
              for="{{ field.id_for_label }}"
              class="block text-sm font-medium text-gray-700"
            >
              {{ field.label }} {% if field.field.required %}
              <span class="text-red-500">*</span>
              {% endif %}
            </label>

            {% if 'password' in field.name %}
            <div class="relative">
              {{ field }}
              <button
                type="button"
                class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-theme-primary password-toggle-icon"
                onclick="togglePasswordVisibility('{{ field.id_for_label }}')"
              >
                <svg
                  id="eye-icon-{{ field.id_for_label }}"
                  class="h-5 w-5"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M2.036 12.322a1.012 1.012 0 010-.639l4.43-7.111a1 1 0 011.638-.02l.555.89a.5.5 0 00.884-.316l-.002-.001a1 1 0 011.45-.393l.882.59a1 1 0 001.214-.02l.876-.66a1 1 0 011.432.02l4.43 7.11a1.012 1.012 0 010 .639l-4.43 7.11a1 1 0 01-1.638.02l-.555-.89a.5.5 0 00-.884.316l.002.001a1 1 0 01-1.45.393l-.882-.59a1 1 0 00-1.214.02l-.876.66a1 1 0 01-1.432-.02l-4.43-7.111z"
                  />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                  />
                </svg>
                <svg
                  id="eye-slash-icon-{{ field.id_for_label }}"
                  class="h-5 w-5 hidden"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228"
                  />
                </svg>
              </button>
            </div>
            {% else %} {{ field }} {% endif %} {% for error in field.errors %}
            <p class="mt-1 text-sm text-red-600">{{ error }}</p>
            {% endfor %}
          </div>
          {% endfor %}
        </div>

        <div class="space-y-5">
          {% for field in profile_form %}
          <div>
            <label
              for="{{ field.id_for_label }}"
              class="block text-sm font-medium text-gray-700"
            >
              {{ field.label }} {% if field.field.required %}
              <span class="text-red-500">*</span>
              {% endif %}
            </label>
            {{ field }} {% for error in field.errors %}
            <p class="mt-1 text-sm text-red-600">{{ error }}</p>
            {% endfor %}
          </div>
          {% endfor %}
        </div>

        <button
          type="submit"
          class="w-full flex justify-center py-2.5 px-4 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-theme-primary hover:bg-theme-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-theme-primary transition duration-150 ease-in-out"
        >
          Register
        </button>
      </form>
      <p class="text-sm text-center text-gray-text mt-8">
        Already have an account?
        <a
          href="{% url 'login' %}"
          class="font-medium text-theme-primary hover:text-theme-dark"
        >
          Login Now
        </a>
      </p>
    </div>

    <script>
      function togglePasswordVisibility(fieldId) {
        const passwordInput = document.getElementById(fieldId);
        const eyeIcon = document.getElementById("eye-icon-" + fieldId);
        const eyeSlashIcon = document.getElementById(
          "eye-slash-icon-" + fieldId
        );

        if (passwordInput.type === "password") {
          passwordInput.type = "text";
          eyeIcon.classList.add("hidden");
          eyeSlashIcon.classList.remove("hidden");
        } else {
          passwordInput.type = "password";
          eyeIcon.classList.remove("hidden");
          eyeSlashIcon.classList.add("hidden");
        }
      }
    </script>
  </body>
</html>
